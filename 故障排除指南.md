# 语音输入助手故障排除指南

## 🔥 常见问题及解决方案

### 1. 程序卡住，无法用Ctrl+C停止

**问题描述**：程序开始监听按键后，Ctrl+C无法正常工作

**解决方案**：
- ✅ 已修复：现在Ctrl+C可以正常使用
- 📝 新增退出热键：Ctrl+F12 也可以退出程序
- 🔧 如果仍有问题，使用任务管理器强制终止：
  ```
  taskkill /f /im python.exe
  ```

### 2. 找不到录音设备

**问题描述**：出现"Error querying device -1"错误

**解决方案**：
- ✅ 已修复：程序会自动检测并配置可用的录音设备
- 🔍 检查音频设备：
  ```bash
  python -c "import sounddevice as sd; print(sd.query_devices())"
  ```
- 🎤 确保麦克风已连接并在Windows设置中启用

### 3. 热键不响应

**问题描述**：按F9没有反应

**解决方案**：
- 🔍 检查程序是否正在运行（任务管理器中查看python.exe）
- 📝 确认热键设置：默认为F9
- 🎯 尝试重启程序
- 📋 查看日志文件：`logs/voice_assistant.log`

### 4. 语音识别准确率低

**解决方案**：
- 🎤 确保麦克风靠近嘴部
- 🔇 减少环境噪音
- 📖 参考《提升识别准确率指南.md》
- ⚙️ 考虑升级到更大的Whisper模型

### 5. 无法启动程序

**问题描述**：运行start.py时出现错误

**解决方案**：
- 🐍 检查Python版本：需要Python 3.8+
- 📦 安装依赖包：`pip install -r requirements.txt`
- 🔧 运行环境检查：`python start.py`
- 📝 查看错误信息并根据提示解决

## 🎯 使用技巧

### 最佳实践
1. **环境准备**：
   - 使用安静的环境
   - 确保麦克风质量良好
   - 说话清晰，语速适中

2. **热键使用**：
   - F9：开始语音识别
   - Ctrl+F12：退出程序
   - 在任何应用中都可以使用

3. **文本输入**：
   - 先将光标置于要输入的位置
   - 按F9开始录音
   - 等待5秒录音完成
   - 识别的文本会自动输入

### 快捷命令
- **启动程序**：`python start.py`
- **静默启动**：`python start_silent.py`
- **测试语音**：`python test_voice.py`
- **测试热键**：`python test_hotkey.py`

## 📞 获取帮助

如果遇到其他问题：
1. 查看日志文件：`logs/voice_assistant.log`
2. 检查《使用说明.md》
3. 参考《提升识别准确率指南.md》
4. 提交issue到项目仓库

## 🔄 更新日志

### 最新修复 (2025-07-11)
- ✅ 修复Ctrl+C无法停止程序的问题
- ✅ 修复录音设备检测问题
- ✅ 优化热键监听机制
- ✅ 新增Ctrl+F12退出热键
- ✅ 减少不必要的按键日志

### 系统要求
- Python 3.8+
- Windows 10/11
- 可用的音频输入设备
- 至少2GB内存（用于Whisper模型）

---

*最后更新：2025-07-11* 